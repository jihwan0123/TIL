[TOC]



# 쓰레드

## 쓰레드란?

> 동시에 여러가지 작업을 동시에 수행할 수 있게하는것

- 프로세스란 현재 실행되고 있는 프로그램
- 자바 프로그램은 JVM에 위해 실행된다. 이 JVM도 프로그램중에 하나이다.
- 운영체제 입장으로 보면 자바도 하나의 프로세스로 실행을 하는 것
- 워드프로세서가 하나의 프로세스라면, 하나의 프로세스 안에서도 여러개의 흐름이 동작할 수 있다. 이것은 Thread라고 말을 합니다.



### 쓰레드 상속

1. 클래스 생성 시 java.lang.thread 를 superclass로 설정
2. source -> run을 override 해서 사용

```java
// MyThread1.java
public class MyThread1 extends Thread {

	String str;
	public MyThread1(String str) {
		this.str = str;
	}
	
	
	
	@Override
	public void run() {
		for(int i = 0; i < 10; i++) {
			System.out.print(str);
		}
		
		try {
			Thread.sleep((int)(Math.random()*1000));
		} catch (InterruptedException e) {
			e.printStackTrace();
		}
	}
	
}
```

```java
// ThreadExam.java

public class TheradExam {

	public static void main(String[] args) {
		MyThread1 t1 = new MyThread1("*");
		MyThread1 t2 = new MyThread1("-");
		
		
		t1.start();
		t2.start();
		
		System.out.println("main end!!!");
	}

}
```

```java
main end!!!
***--------*******--
// main 쓰레드가 종료 되더라도 다른 쓰레드는 종료되지 않는다.
// 랜덤으로 sleep을 줬기 때문에 -와 *이 랜덤하게 나온다.
```



### Runable interface 사용

> 자바는 단일 상속만을 지원하기때문에 interface 지원(interface는 여러 개 상속 가능)

```java
// MyThread2.java
public class MyThread2 implements Runnable {

	String str;
	public MyThread2 (String str) {
		this.str = str;
	}
	
	@Override
	public void run() {
		 for(int i=0;i<10;i++) {
			 System.out.println(str);
			 try {
				Thread.sleep((int)(Math.random()*100));
			} catch (InterruptedException e) {
				e.printStackTrace();
			}
		 }

	}

}
```

```java
// ThreadExam2.java
public class ThreadExam2 {

	public static void main(String[] args) {
		MyThread2 t1 = new MyThread2("*");
		MyThread2 t2 = new MyThread2("-");
		
		Thread thread1 = new Thread(t1);
		Thread thread2 = new Thread(t2);
		
		thread1.start();
		thread2.start();
		
		System.out.println("main end!!");
	}

}
// 결과는 같다.
main end!!
*----*-*--*-*--*****
```

